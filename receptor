#define MQ_NAME "mq_cola-queue"

typedef struct Message{
        char mssg[80];
}

int main(void){
    struct mq_attr attribut = {
        .mq_flags        = 0,
        .mqmaxmessages   = 10,
        .mq_curmessages  = 0,
        .mq_msgsize = sizeof(Massage)
    };

    mqd_t queue = mq_open(MQ_NAME,
        O_CREAT |  O_RDONLY,
        S_IRUSR | S_IWUSR, 
        &attribut);

    Message mssg,

    mq_receive(queue, (char *) & mssg, sizeof(mssg), NULL);

    printf("%s\n", mssg,mssg);

    fprintf(stdout, "Press any key to finish\n");
    getchar();

    mq_close(queue);

    return EXIT_SUCCESS;
